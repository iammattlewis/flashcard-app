{"ast":null,"code":"var _jsxFileName = \"/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { deleteDeck, listDecks } from \"../utils/api/index.js\";\nimport CreateDeck from \"./CreateDeck.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const mountedRef = useRef(false);\n  const [decks, setDecks] = useState([]);\n  const [showCreateForm, setShowCreateForm] = useState(false); // State to track whether the form is visible\n  const history = useHistory();\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDecks() {\n      try {\n        const decks = await listDecks();\n        if (mountedRef.current) {\n          setDecks(_ => [...decks]);\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n    loadDecks();\n    return () => abortController.abort();\n  }, []);\n  const deleteHandler = async deckId => {\n    const confirmation = window.confirm(\"Delete this deck? You will not be able to recover it.\");\n    if (confirmation) {\n      await deleteDeck(deckId);\n      history.go(0);\n    }\n  };\n  const toggleCreateForm = () => {\n    setShowCreateForm(prevValue => !prevValue);\n  };\n  const styledDecks = decks.map(deck => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      width: \"100%\",\n      marginTop: \"1em\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"card-title\",\n          children: deck.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [deck.cards.length, \" cards\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text text-secondary\",\n        children: deck.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deck.id}`,\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => history.push(`/decks/${deck.id}`),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-binoculars\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), \" View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deck.id}/study`,\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => history.push(`/decks/${deck.id}/study`),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), \" Study\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => deleteHandler(deck.id),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), \" Delete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, deck.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [showCreateForm ? /*#__PURE__*/_jsxDEV(CreateDeck, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Link, {\n      to: \"#\",\n      onClick: toggleCreateForm,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), \" Create Deck\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), decks ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: styledDecks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"sl7Ha1y71Ce/2UOmVKwLy5YZHjM=\", false, function () {\n  return [useHistory];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Link","useHistory","deleteDeck","listDecks","CreateDeck","jsxDEV","_jsxDEV","Home","_s","mountedRef","decks","setDecks","showCreateForm","setShowCreateForm","history","current","abortController","AbortController","loadDecks","_","error","name","abort","deleteHandler","deckId","confirmation","window","confirm","go","toggleCreateForm","prevValue","styledDecks","map","deck","className","style","width","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","cards","length","description","to","id","onClick","push","Fragment","_c","$RefreshReg$"],"sources":["/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/Home.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { deleteDeck, listDecks } from \"../utils/api/index.js\";\nimport CreateDeck from \"./CreateDeck.js\";\n\nfunction Home() {\n  const mountedRef = useRef(false);\n  const [decks, setDecks] = useState([]);\n  const [showCreateForm, setShowCreateForm] = useState(false); // State to track whether the form is visible\n  const history = useHistory();\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDecks() {\n      try {\n        const decks = await listDecks();\n        if (mountedRef.current) {\n          setDecks((_) => [...decks]);\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n    loadDecks();\n\n    return () => abortController.abort();\n  }, []);\n\n  const deleteHandler = async (deckId) => {\n    const confirmation = window.confirm(\n      \"Delete this deck? You will not be able to recover it.\"\n    );\n    if (confirmation) {\n      await deleteDeck(deckId);\n      history.go(0);\n    }\n  };\n\n  const toggleCreateForm = () => {\n    setShowCreateForm((prevValue) => !prevValue);\n  };\n\n  const styledDecks = decks.map((deck) => (\n    <div\n      key={deck.id}\n      className=\"card\"\n      style={{ width: \"100%\", marginTop: \"1em\" }}\n    >\n      <div className=\"card-body\">\n        <div className=\"d-flex justify-content-between\">\n          <h4 className=\"card-title\">{deck.name}</h4>\n          <p>{deck.cards.length} cards</p>\n        </div>\n        <p className=\"card-text text-secondary\">{deck.description}</p>\n        <div className=\"d-flex justify-content-between mt-4\">\n          <Link to={`/decks/${deck.id}`} className=\"card-link\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => history.push(`/decks/${deck.id}`)}\n            >\n              <i className=\"fas fa-binoculars\"></i> View\n            </button>\n          </Link>\n          <Link to={`/decks/${deck.id}/study`} className=\"card-link\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => history.push(`/decks/${deck.id}/study`)}\n            >\n              <i className=\"fas fa-book\"></i> Study\n            </button>\n          </Link>\n          <Link to=\"#\" className=\"card-link\">\n            <button\n              className=\"btn btn-danger\"\n              onClick={() => deleteHandler(deck.id)}\n            >\n              <i className=\"fas fa-trash\"></i> Delete\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  ));\n\n  return (\n    <React.Fragment>\n      {showCreateForm ? (\n        <CreateDeck />\n      ) : (\n        <Link to=\"#\" onClick={toggleCreateForm}>\n          <button className=\"btn btn-primary\">\n            <i className=\"fas fa-plus\"></i> Create Deck\n          </button>\n        </Link>\n      )}\n\n      {decks ? (\n        <React.Fragment>{styledDecks}</React.Fragment>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}