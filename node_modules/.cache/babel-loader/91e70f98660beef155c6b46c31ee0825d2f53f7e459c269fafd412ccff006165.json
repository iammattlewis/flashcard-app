{"ast":null,"code":"import _regeneratorRuntime from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{Link,useParams,useHistory,Route}from\"react-router-dom\";import{deleteDeck,readDeck}from\"../utils/api\";import ViewCards from\"./ViewCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewDeck(){var mountedRef=useRef(false);var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useState=useState({name:\"loading...\",cards:[]}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];useEffect(function(){mountedRef.current=true;return function(){mountedRef.current=false;};},[]);useEffect(function(){var abortController=new AbortController();function loadDeck(){return _loadDeck.apply(this,arguments);}function _loadDeck(){_loadDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId,abortController.signal);case 3:response=_context.sent;if(mountedRef.current){setDeck(function(){return _objectSpread({},response);});}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name!==\"AbortError\")){_context.next=11;break;}throw _context.t0;case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _loadDeck.apply(this,arguments);}loadDeck();return function(){abortController.abort();};},[deckId]);var deleteHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(deckId){var confirmation;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:confirmation=window.confirm(\"Delete this deck? You will not be able to recover it.\");if(!confirmation){_context2.next=5;break;}_context2.next=4;return deleteDeck(deckId);case 4:history.push(\"/\");case 5:case\"end\":return _context2.stop();}},_callee2);}));return function deleteHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:deck.name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:deck.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"blockquote\",{className:\"blockquote mb-0\",children:/*#__PURE__*/_jsx(\"p\",{children:deck.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-around\",children:[/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/edit\"),children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:function onClick(){return history.push(\"/decks/\".concat(deck.id,\"/edit\"));},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"}),\" Edit\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/study\"),children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return history.push(\"/decks/\".concat(deck.id,\"/study\"));},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-book\"}),\" Study\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deck.id,\"/cards/new\"),children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return history.push(\"/decks/\".concat(deck.id,\"/cards/new\"));},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Add Cards\"]})}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return deleteHandler(deckId);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"}),\" Delete Deck\"]})]})]})]}),/*#__PURE__*/_jsx(Route,{children:/*#__PURE__*/_jsx(ViewCards,{cards:deck.cards})})]});}export default ViewDeck;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useParams","useHistory","Route","deleteDeck","readDeck","ViewCards","jsx","_jsx","jsxs","_jsxs","ViewDeck","mountedRef","_useParams","deckId","history","_useState","name","cards","_useState2","_slicedToArray","deck","setDeck","current","abortController","AbortController","loadDeck","_loadDeck","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","signal","sent","_objectSpread","t0","stop","abort","deleteHandler","_ref","_callee2","confirmation","_callee2$","_context2","window","confirm","push","_x","Fragment","children","className","to","description","concat","id","onClick","type"],"sources":["/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/ViewDeck.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useParams, useHistory, Route } from \"react-router-dom\";\nimport { deleteDeck, readDeck } from \"../utils/api\";\nimport ViewCards from \"./ViewCards\";\n\nfunction ViewDeck() {\n  const mountedRef = useRef(false);\n  const { deckId } = useParams();\n  const history = useHistory();\n  const [deck, setDeck] = useState({ name: \"loading...\", cards: [] });\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDeck() {\n      try {\n        const response = await readDeck(deckId, abortController.signal);\n        if (mountedRef.current) {\n          setDeck(() => ({ ...response }));\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n    loadDeck();\n    return () => {\n      abortController.abort();\n    };\n  }, [deckId]);\n\n  const deleteHandler = async (deckId) => {\n    const confirmation = window.confirm(\n      \"Delete this deck? You will not be able to recover it.\"\n    );\n    if (confirmation) {\n      await deleteDeck(deckId);\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <nav aria-label=\"breadcrumb\">\n        <ol className=\"breadcrumb\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"/\">\n              <i className=\"fas fa-home\"></i> Home\n            </Link>\n          </li>\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            {deck.name}\n          </li>\n        </ol>\n      </nav>\n      <div className=\"card\">\n        <div className=\"card-header text-center\">\n          <h2>{deck.name}</h2>\n        </div>\n        <div className=\"card-body\">\n          <blockquote className=\"blockquote mb-0\">\n            <p>{deck.description}</p>\n          </blockquote>\n          <div className=\"d-flex justify-content-around\">\n            <Link to={`/decks/${deck.id}/edit`}>\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => history.push(`/decks/${deck.id}/edit`)}\n              >\n                <i className=\"fas fa-edit\"></i> Edit\n              </button>\n            </Link>\n            <Link to={`/decks/${deck.id}/study`}>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={() => history.push(`/decks/${deck.id}/study`)}\n              >\n                <i className=\"fas fa-book\"></i> Study\n              </button>\n            </Link>\n            <Link to={`/decks/${deck.id}/cards/new`}>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={() => history.push(`/decks/${deck.id}/cards/new`)}\n              >\n                <i className=\"fas fa-plus\"></i> Add Cards\n              </button>\n            </Link>\n            <button\n              type=\"button\"\n              className=\"btn btn-danger\"\n              onClick={() => deleteHandler(deckId)}\n            >\n              <i className=\"fas fa-trash\"></i> Delete Deck\n            </button>\n          </div>\n        </div>\n      </div>\n      <Route>\n        <ViewCards cards={deck.cards} />\n      </Route>\n    </React.Fragment>\n  );\n}\n\nexport default ViewDeck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}