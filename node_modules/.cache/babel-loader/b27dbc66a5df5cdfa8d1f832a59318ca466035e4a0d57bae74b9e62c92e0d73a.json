{"ast":null,"code":"import _defineProperty from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matthewlewis/Documents/GitHub/Flashcard-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{readDeck,updateDeck}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(){var mountedRef=useRef(false);var initialState={name:\"\",description:\"\"};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),editDeckFormData=_useState2[0],setEditDeckFormData=_useState2[1];var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();useEffect(function(){mountedRef.current=true;return function(){mountedRef.current=false;};},[]);useEffect(function(){var abortController=new AbortController();function loadDeck(){return _loadDeck.apply(this,arguments);}function _loadDeck(){_loadDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var loadedDeck;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId,abortController.signal);case 3:loadedDeck=_context.sent;if(mountedRef.current){setEditDeckFormData(loadDeck);}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name!==\"AbortError\")){_context.next=11;break;}throw _context.t0;case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _loadDeck.apply(this,arguments);}loadDeck();return function(){abortController.abort();};},[deckId]);var changeHandler=function changeHandler(_ref){var target=_ref.target;setEditDeckFormData(function(currentState){return _objectSpread(_objectSpread({},currentState),{},_defineProperty({},target.name,target.value));});};var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return updateDeck(editDeckFormData);case 3:response=_context2.sent;history.push(\"/decks/\".concat(response.id));case 5:case\"end\":return _context2.stop();}},_callee2);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:editDeckFormData.name?editDeckFormData.name:\"Loading...\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Edit Deck\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-4 text-center\",children:\"Edit Deck\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",id:\"name\",className:\"form-control form-control-lg\",type:\"text\",placeholder:\"Deck Name\",onChange:changeHandler,value:editDeckFormData.name,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"description\",name:\"description\",rows:\"5\",placeholder:\"Brief description of the deck\",onChange:changeHandler,defaultValue:editDeckFormData.description,required:true})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mr-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){return history.push(\"/decks/\".concat(deckId));},children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});}export default EditDeck;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useParams","useHistory","readDeck","updateDeck","jsx","_jsx","jsxs","_jsxs","EditDeck","mountedRef","initialState","name","description","_useState","_useState2","_slicedToArray","editDeckFormData","setEditDeckFormData","_useParams","deckId","history","current","abortController","AbortController","loadDeck","_loadDeck","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","loadedDeck","wrap","_callee$","_context","prev","next","signal","sent","t0","stop","abort","changeHandler","_ref","target","currentState","_objectSpread","_defineProperty","value","submitHandler","_ref2","_callee2","event","response","_callee2$","_context2","preventDefault","push","concat","id","_x","Fragment","children","className","to","onSubmit","htmlFor","type","placeholder","onChange","required","rows","defaultValue","onClick"],"sources":["/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/EditDeck.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport { readDeck, updateDeck } from \"../utils/api\";\n\nfunction EditDeck() {\n  const mountedRef = useRef(false);\n  const initialState = { name: \"\", description: \"\" };\n  const [editDeckFormData, setEditDeckFormData] = useState(initialState);\n\n  const { deckId } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDeck() {\n      try {\n        const loadedDeck = await readDeck(deckId, abortController.signal);\n        if (mountedRef.current) {\n          setEditDeckFormData(loadDeck);\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n\n    loadDeck();\n    return () => {\n      abortController.abort();\n    };\n  }, [deckId]);\n\n  const changeHandler = ({ target }) => {\n    setEditDeckFormData((currentState) => ({\n      ...currentState,\n      [target.name]: target.value,\n    }));\n  };\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n    const response = await updateDeck(editDeckFormData);\n    history.push(`/decks/${response.id}`);\n  };\n\n  return (\n    <React.Fragment>\n      <nav aria-label=\"breadcrumb\">\n        <ol className=\"breadcrumb\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"/\">\n              <i className=\"fas fa-home\"></i> Home\n            </Link>\n          </li>\n          <li className=\"breadcrumb-item\">\n            <Link to={`/decks/${deckId}`}>\n              {editDeckFormData.name ? editDeckFormData.name : \"Loading...\"}\n            </Link>\n          </li>\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            Edit Deck\n          </li>\n        </ol>\n      </nav>\n      <form onSubmit={submitHandler}>\n        <h1 className=\"my-4 text-center\">Edit Deck</h1>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            name=\"name\"\n            id=\"name\"\n            className=\"form-control form-control-lg\"\n            type=\"text\"\n            placeholder=\"Deck Name\"\n            onChange={changeHandler}\n            value={editDeckFormData.name}\n            required\n          ></input>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description</label>\n          <textarea\n            className=\"form-control\"\n            id=\"description\"\n            name=\"description\"\n            rows=\"5\"\n            placeholder=\"Brief description of the deck\"\n            onChange={changeHandler}\n            defaultValue={editDeckFormData.description}\n            required\n          ></textarea>\n        </div>\n        <Link to=\"/\" className=\"mr-2\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={() => history.push(`/decks/${deckId}`)}\n          >\n            Cancel\n          </button>\n        </Link>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n        >\n          Submit\n        </button>\n      </form>\n    </React.Fragment>\n  );\n}\n\nexport default EditDeck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}