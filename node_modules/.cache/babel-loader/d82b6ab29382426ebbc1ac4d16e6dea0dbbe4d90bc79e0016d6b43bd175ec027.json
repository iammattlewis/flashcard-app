{"ast":null,"code":"var _jsxFileName = \"/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { deleteDeck, listDecks } from \"../utils/api/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimpo;\nfunction Home() {\n  _s();\n  const mountedRef = useRef(false);\n  const [decks, setDecks] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDecks() {\n      try {\n        const decks = await listDecks();\n        if (mountedRef.current) {\n          setDecks(_ => [...decks]);\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n    loadDecks();\n    return () => abortController.abort();\n  }, []);\n  const deleteHandler = async deckId => {\n    const confirmation = window.confirm(\"Delete this deck? You will not be able to recover it.\");\n    if (confirmation) {\n      await deleteDeck(deckId);\n      history.go(0);\n    }\n  };\n  const styledDecks = decks.map(deck => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      width: \"100%\",\n      marginTop: \"1em\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"card-title\",\n          children: deck.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [deck.cards.length, \" cards\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text text-secondary\",\n        children: deck.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deck.id}`,\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => history.push(`/decks/${deck.id}`),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-binoculars\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), \" View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deck.id}/study`,\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => history.push(`/decks/${deck.id}/study`),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), \" Study\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          className: \"card-link\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => deleteHandler(deck.id),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), \" Delete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, deck.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this));\n  return decks ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: styledDecks\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"Zk1hROiIz00My05icIad5i/aToM=\", false, function () {\n  return [useHistory];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useHistory","deleteDeck","listDecks","jsxDEV","_jsxDEV","impo","Home","_s","mountedRef","decks","setDecks","history","current","abortController","AbortController","loadDecks","_","error","name","abort","deleteHandler","deckId","confirmation","window","confirm","go","styledDecks","map","deck","className","style","width","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","cards","length","description","to","id","onClick","push","Fragment","_c","$RefreshReg$"],"sources":["/Users/matthewlewis/Documents/GitHub/Flashcard-App/src/Layout/Home.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { deleteDeck, listDecks } from \"../utils/api/index.js\";\nimpo\n\nfunction Home() {\n  const mountedRef = useRef(false);\n  const [decks, setDecks] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadDecks() {\n      try {\n        const decks = await listDecks();\n        if (mountedRef.current) {\n          setDecks((_) => [...decks]);\n        }\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          throw error;\n        }\n      }\n    }\n    loadDecks();\n\n    return () => abortController.abort();\n  }, []);\n\n  const deleteHandler = async (deckId) => {\n    const confirmation = window.confirm(\n      \"Delete this deck? You will not be able to recover it.\"\n    );\n    if (confirmation) {\n      await deleteDeck(deckId);\n      history.go(0);\n    }\n  };\n\n  const styledDecks = decks.map((deck) => (\n    <div\n      key={deck.id}\n      className=\"card\"\n      style={{ width: \"100%\", marginTop: \"1em\" }}\n    >\n      <div className=\"card-body\">\n        <div className=\"d-flex justify-content-between\">\n          <h4 className=\"card-title\">{deck.name}</h4>\n          <p>{deck.cards.length} cards</p>\n        </div>\n        <p className=\"card-text text-secondary\">{deck.description}</p>\n        <div className=\"d-flex justify-content-between mt-4\">\n          <Link to={`/decks/${deck.id}`} className=\"card-link\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => history.push(`/decks/${deck.id}`)}\n            >\n              <i className=\"fas fa-binoculars\"></i> View\n            </button>\n          </Link>\n          <Link to={`/decks/${deck.id}/study`} className=\"card-link\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => history.push(`/decks/${deck.id}/study`)}\n            >\n              <i className=\"fas fa-book\"></i> Study\n            </button>\n          </Link>\n          <Link to=\"#\" className=\"card-link\">\n            <button\n              className=\"btn btn-danger\"\n              onClick={() => deleteHandler(deck.id)}\n            >\n              <i className=\"fas fa-trash\"></i> Delete\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  ));\n\n  return decks ? (\n    <React.Fragment>{styledDecks}</React.Fragment>\n  ) : (\n    <p>Loading...</p>\n  );\n}\n\nexport default Home;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,IAAI,EAAEC,UAAU,QAAQ,kBAAkB;AACnD,SAASC,UAAU,EAAEC,SAAS,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC9DC,IAAI;AAEJ,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAMC,UAAU,GAAGV,MAAM,CAAC,KAAK,CAAC;EAChC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMe,OAAO,GAAGX,UAAU,CAAC,CAAC;EAE5BH,SAAS,CAAC,MAAM;IACdW,UAAU,CAACI,OAAO,GAAG,IAAI;IACzB,OAAO,MAAM;MACXJ,UAAU,CAACI,OAAO,GAAG,KAAK;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENf,SAAS,CAAC,MAAM;IACd,MAAMgB,eAAe,GAAG,IAAIC,eAAe,CAAC,CAAC;IAC7C,eAAeC,SAASA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMN,KAAK,GAAG,MAAMP,SAAS,CAAC,CAAC;QAC/B,IAAIM,UAAU,CAACI,OAAO,EAAE;UACtBF,QAAQ,CAAEM,CAAC,IAAK,CAAC,GAAGP,KAAK,CAAC,CAAC;QAC7B;MACF,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACd,IAAIA,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;UAC/B,MAAMD,KAAK;QACb;MACF;IACF;IACAF,SAAS,CAAC,CAAC;IAEX,OAAO,MAAMF,eAAe,CAACM,KAAK,CAAC,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,aAAa,GAAG,MAAOC,MAAM,IAAK;IACtC,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAO,CACjC,uDACF,CAAC;IACD,IAAIF,YAAY,EAAE;MAChB,MAAMrB,UAAU,CAACoB,MAAM,CAAC;MACxBV,OAAO,CAACc,EAAE,CAAC,CAAC,CAAC;IACf;EACF,CAAC;EAED,MAAMC,WAAW,GAAGjB,KAAK,CAACkB,GAAG,CAAEC,IAAI,iBACjCxB,OAAA;IAEEyB,SAAS,EAAC,MAAM;IAChBC,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAM,CAAE;IAAAC,QAAA,eAE3C7B,OAAA;MAAKyB,SAAS,EAAC,WAAW;MAAAI,QAAA,gBACxB7B,OAAA;QAAKyB,SAAS,EAAC,gCAAgC;QAAAI,QAAA,gBAC7C7B,OAAA;UAAIyB,SAAS,EAAC,YAAY;UAAAI,QAAA,EAAEL,IAAI,CAACV;QAAI;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3CjC,OAAA;UAAA6B,QAAA,GAAIL,IAAI,CAACU,KAAK,CAACC,MAAM,EAAC,QAAM;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC,eACNjC,OAAA;QAAGyB,SAAS,EAAC,0BAA0B;QAAAI,QAAA,EAAEL,IAAI,CAACY;MAAW;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9DjC,OAAA;QAAKyB,SAAS,EAAC,qCAAqC;QAAAI,QAAA,gBAClD7B,OAAA,CAACL,IAAI;UAAC0C,EAAE,EAAG,UAASb,IAAI,CAACc,EAAG,EAAE;UAACb,SAAS,EAAC,WAAW;UAAAI,QAAA,eAClD7B,OAAA;YACEyB,SAAS,EAAC,mBAAmB;YAC7Bc,OAAO,EAAEA,CAAA,KAAMhC,OAAO,CAACiC,IAAI,CAAE,UAAShB,IAAI,CAACc,EAAG,EAAC,CAAE;YAAAT,QAAA,gBAEjD7B,OAAA;cAAGyB,SAAS,EAAC;YAAmB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,SACvC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACPjC,OAAA,CAACL,IAAI;UAAC0C,EAAE,EAAG,UAASb,IAAI,CAACc,EAAG,QAAQ;UAACb,SAAS,EAAC,WAAW;UAAAI,QAAA,eACxD7B,OAAA;YACEyB,SAAS,EAAC,iBAAiB;YAC3Bc,OAAO,EAAEA,CAAA,KAAMhC,OAAO,CAACiC,IAAI,CAAE,UAAShB,IAAI,CAACc,EAAG,QAAO,CAAE;YAAAT,QAAA,gBAEvD7B,OAAA;cAAGyB,SAAS,EAAC;YAAa;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,UACjC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACPjC,OAAA,CAACL,IAAI;UAAC0C,EAAE,EAAC,GAAG;UAACZ,SAAS,EAAC,WAAW;UAAAI,QAAA,eAChC7B,OAAA;YACEyB,SAAS,EAAC,gBAAgB;YAC1Bc,OAAO,EAAEA,CAAA,KAAMvB,aAAa,CAACQ,IAAI,CAACc,EAAE,CAAE;YAAAT,QAAA,gBAEtC7B,OAAA;cAAGyB,SAAS,EAAC;YAAc;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,WAClC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,GApCDT,IAAI,CAACc,EAAE;IAAAR,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAqCT,CACN,CAAC;EAEF,OAAO5B,KAAK,gBACVL,OAAA,CAACT,KAAK,CAACkD,QAAQ;IAAAZ,QAAA,EAAEP;EAAW;IAAAQ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAiB,CAAC,gBAE9CjC,OAAA;IAAA6B,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CACjB;AACH;AAAC9B,EAAA,CAxFQD,IAAI;EAAA,QAGKN,UAAU;AAAA;AAAA8C,EAAA,GAHnBxC,IAAI;AA0Fb,eAAeA,IAAI;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}